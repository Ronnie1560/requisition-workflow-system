-- =====================================================
-- Remove Demo/Seed Data for Production
-- Date: 2026-02-10
-- Purpose: Delete hardcoded demo projects, items, expense
--          accounts, and their relationships so that new
--          client organizations start with a clean slate.
--          UOM types (reference data) are intentionally KEPT.
-- =====================================================

BEGIN;

-- 1. Remove pre-approved item pricing (account_items)
--    These reference demo project_accounts and demo items.
DELETE FROM account_items
WHERE item_id IN (
  '44444444-4444-4444-4444-444444444401',
  '44444444-4444-4444-4444-444444444402',
  '44444444-4444-4444-4444-444444444403',
  '44444444-4444-4444-4444-444444444404',
  '44444444-4444-4444-4444-444444444405',
  '44444444-4444-4444-4444-444444444406',
  '44444444-4444-4444-4444-444444444407',
  '44444444-4444-4444-4444-444444444408',
  '44444444-4444-4444-4444-444444444409',
  '44444444-4444-4444-4444-444444444410'
);

-- 2. Remove project-account budget assignments for demo projects
DELETE FROM project_accounts
WHERE project_id IN (
  '33333333-3333-3333-3333-333333333301',
  '33333333-3333-3333-3333-333333333302',
  '33333333-3333-3333-3333-333333333303'
);

-- 3. Remove demo projects
DELETE FROM projects
WHERE id IN (
  '33333333-3333-3333-3333-333333333301',
  '33333333-3333-3333-3333-333333333302',
  '33333333-3333-3333-3333-333333333303'
);

-- 4. Remove demo catalog items
DELETE FROM items
WHERE id IN (
  '44444444-4444-4444-4444-444444444401',
  '44444444-4444-4444-4444-444444444402',
  '44444444-4444-4444-4444-444444444403',
  '44444444-4444-4444-4444-444444444404',
  '44444444-4444-4444-4444-444444444405',
  '44444444-4444-4444-4444-444444444406',
  '44444444-4444-4444-4444-444444444407',
  '44444444-4444-4444-4444-444444444408',
  '44444444-4444-4444-4444-444444444409',
  '44444444-4444-4444-4444-444444444410'
);

-- 5. Remove demo expense accounts (sub-categories first, then parents)
DELETE FROM expense_accounts
WHERE id IN (
  '22222222-2222-2222-2222-222222222201',
  '22222222-2222-2222-2222-222222222202',
  '22222222-2222-2222-2222-222222222203',
  '22222222-2222-2222-2222-222222222204',
  '22222222-2222-2222-2222-222222222205',
  '22222222-2222-2222-2222-222222222206',
  '22222222-2222-2222-2222-222222222207',
  '22222222-2222-2222-2222-222222222208'
);

DELETE FROM expense_accounts
WHERE id IN (
  '11111111-1111-1111-1111-111111111101',
  '11111111-1111-1111-1111-111111111102',
  '11111111-1111-1111-1111-111111111103',
  '11111111-1111-1111-1111-111111111104',
  '11111111-1111-1111-1111-111111111105',
  '11111111-1111-1111-1111-111111111106',
  '11111111-1111-1111-1111-111111111107',
  '11111111-1111-1111-1111-111111111108'
);

COMMIT;

-- =====================================================
-- KEPT INTENTIONALLY:
--   - UOM types (PCS, KG, L, M, etc.) — universal reference data
--   - Database schema, functions, RLS policies — untouched
--   - All real organization data — untouched
-- =====================================================
